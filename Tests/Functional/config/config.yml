parameters:
    admin_path: 'admin'
    secret: 'test'
    db_user: travis
    db_pass: ~
    # db_user: root
    # db_pass: root

imports:
    - { resource: framework.yml }
    - { resource: twig.yml }
    - { resource: bundle.yml }
    - { resource: sonata.yml }
    - { resource: '@AlpixelUserBundle/Resources/config/security.yml' }

doctrine:
    dbal:
        connections:
            default:
                driver: pdo_mysql
                host: '127.0.0.1'
                unix_socket: null
                port: null
                dbname: 'cms_test'
                user: '%db_user%'
                password: '%db_pass%'
                charset: utf8mb4
            default_table_options:
                charset: utf8mb4
    orm:
        auto_generate_proxy_classes: '%kernel.debug%'
        naming_strategy: doctrine.orm.naming_strategy.underscore
        auto_mapping: true

jms_translation:
    locales: ['fr', 'en', 'de']
    source_language: 'fr'
    configs:
        app:
            dirs:
                - '%kernel.root_dir%'
            output_dir: '%kernel.root_dir%/Resources/translations'
            output_format: 'xlf'
            ignored_domains:
                - SonataAdminBundle
                - AlpixelCMSBundle
            excluded_names:
                - '*TestCase.php'
                - '*Test.php'
                - '*Admin.php'
                - 'Admin*.php'
            excluded_dirs:
                - cache
                - data
                - logs
            extractors:
                - jms_i18n_routing

jms_i18n_routing:
    default_locale: 'fr'
    locales: ['fr', 'en', 'de']
    strategy: prefix

lunetics_locale:
    allowed_locales: ['fr', 'en', 'de']
    switcher:
        show_current_locale: true
        template: 'block/language_switcher.html.twig'
    guessing_order:
        - query
        - router
        - session
        - browser

knp_menu:
    twig:
        template: 'AlpixelMenuBundle:blocks:menu.html.twig'
    templating: false
    default_renderer: twig

httplug:
    classes:
        client: Http\Adapter\Guzzle6\Client
        message_factory: Http\Message\MessageFactory\GuzzleMessageFactory
        uri_factory: Http\Message\UriFactory\GuzzleUriFactory
        stream_factory: Http\Message\StreamFactory\GuzzleStreamFactory

pix_sortable_behavior:
    db_driver: orm
    position_field:
        default: position

fos_user:
    db_driver: orm
    firewall_name: main
    user_class: "Alpixel\\Bundle\\CMSBundle\\Tests\\Functional\\Fixture\\TestBundle\\Entity\\User"
    service:
        mailer: fos_user.mailer.noop

alpixel_user:
    default_login_background_image: 'not-an-image.jpg'
    default_login_background_color: '#ffd314'

services:
    logger:
        class: Psr\Log\NullLogger